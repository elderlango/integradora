{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport View from \"react-native-web/dist/exports/View\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport DeviceActionModal from \"./DeviceActionModal\";\nimport useDeviceManagement from \"../hooks/useDeviceManagement\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar DeviceList = function DeviceList() {\n  var _useDeviceManagement = useDeviceManagement(),\n    devices = _useDeviceManagement.devices,\n    users = _useDeviceManagement.users,\n    deleteDevice = _useDeviceManagement.deleteDevice,\n    loadData = _useDeviceManagement.loadData;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isModalOpen = _useState2[0],\n    setModalOpen = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentDevice = _useState4[0],\n    setCurrentDevice = _useState4[1];\n  useEffect(function () {\n    loadData();\n  }, []);\n  var handleEdit = function handleEdit(device) {\n    setCurrentDevice(device);\n    setModalOpen(true);\n  };\n  var handleDelete = function handleDelete(deviceId) {\n    Alert.alert(\"Eliminar Dispositivo\", \"¿Estás seguro de que quieres eliminar este dispositivo?\", [{\n      text: \"Cancelar\",\n      style: \"cancel\"\n    }, {\n      text: \"Eliminar\",\n      onPress: function onPress() {\n        return deleteDevice(deviceId);\n      },\n      style: \"destructive\"\n    }]);\n  };\n  var handleAssign = function handleAssign(device) {\n    setCurrentDevice(device);\n    setModalOpen(true);\n  };\n  return _jsx(_Fragment, {\n    children: _jsxs(View, {\n      style: styles.container,\n      children: [_jsx(FlatList, {\n        data: devices,\n        keyExtractor: function keyExtractor(item) {\n          return item._id.toString();\n        },\n        renderItem: function renderItem(_ref) {\n          var item = _ref.item;\n          return _jsxs(View, {\n            style: styles.deviceListItem,\n            children: [_jsx(Text, {\n              children: item.room\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return handleEdit(item);\n              },\n              children: _jsx(MaterialIcons, {\n                name: \"edit\",\n                size: 18\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return handleDelete(item._id);\n              },\n              children: _jsx(MaterialIcons, {\n                name: \"delete\",\n                size: 18\n              })\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return handleAssign(item);\n              },\n              children: _jsx(MaterialIcons, {\n                name: \"add\",\n                size: 18\n              })\n            })]\n          });\n        },\n        horizontal: true,\n        showsHorizontalScrollIndicator: false,\n        contentContainerStyle: styles.userListContainer\n      }), isModalOpen && _jsx(DeviceActionModal, {\n        isVisible: isModalOpen,\n        onClose: function onClose() {\n          return setModalOpen(false);\n        },\n        device: currentDevice,\n        users: users\n      })]\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 10,\n    paddingTop: 20\n  },\n  deviceListItem: {\n    backgroundColor: '#ffffff',\n    padding: 15,\n    borderRadius: 8,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginVertical: 5,\n    shadowColor: '#000',\n    shadowOffset: {\n      width: 0,\n      height: 1\n    },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n    elevation: 3\n  },\n  deviceText: {\n    fontSize: 16,\n    color: '#333',\n    flex: 1,\n    marginLeft: 10,\n    fontWeight: '500'\n  },\n  iconButton: {\n    padding: 8,\n    borderRadius: 50,\n    backgroundColor: '#f0f0f0',\n    marginLeft: 10\n  },\n  icon: {\n    marginLeft: 10\n  },\n  userListContainer: {\n    flexGrow: 1,\n    justifyContent: 'center'\n  }\n});\nexport default DeviceList;","map":{"version":3,"names":["React","useState","useEffect","FlatList","TouchableOpacity","Text","View","StyleSheet","Alert","MaterialIcons","DeviceActionModal","useDeviceManagement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","DeviceList","_useDeviceManagement","devices","users","deleteDevice","loadData","_useState","_useState2","_slicedToArray","isModalOpen","setModalOpen","_useState3","_useState4","currentDevice","setCurrentDevice","handleEdit","device","handleDelete","deviceId","alert","text","style","onPress","handleAssign","children","styles","container","data","keyExtractor","item","_id","toString","renderItem","_ref","deviceListItem","room","name","size","horizontal","showsHorizontalScrollIndicator","contentContainerStyle","userListContainer","isVisible","onClose","create","flex","paddingHorizontal","paddingTop","backgroundColor","padding","borderRadius","flexDirection","alignItems","justifyContent","marginVertical","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","deviceText","fontSize","color","marginLeft","fontWeight","iconButton","icon","flexGrow"],"sources":["C:/Users/lofli/Downloads/integradora-misto/views/adminDashboard/components/DeviceList.js"],"sourcesContent":["// DeviceList.js (parte de su contenido)\n\nimport React, { useState, useEffect } from 'react';\nimport { FlatList, TouchableOpacity, Text, View, StyleSheet, Alert } from 'react-native';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport DeviceActionModal from './DeviceActionModal';\nimport useDeviceManagement from '../hooks/useDeviceManagement'; // Asegúrate de que la ruta sea correcta\n\nconst DeviceList = () => {\n  const {\n    devices,\n    users, // Asegúrate de que esta línea esté agregada para obtener los usuarios del hook\n    deleteDevice,\n    loadData,\n  } = useDeviceManagement();\n\n  const [isModalOpen, setModalOpen] = useState(false);\n  const [currentDevice, setCurrentDevice] = useState(null);\n\n  useEffect(() => {\n    loadData(); // Carga los dispositivos y usuarios cuando el componente se monta\n  }, []);\n\n  const handleEdit = (device) => {\n    setCurrentDevice(device);\n    setModalOpen(true);\n  };\n\n  const handleDelete = (deviceId) => {\n    Alert.alert(\n      \"Eliminar Dispositivo\",\n      \"¿Estás seguro de que quieres eliminar este dispositivo?\",\n      [\n        { text: \"Cancelar\", style: \"cancel\" },\n        { text: \"Eliminar\", onPress: () => deleteDevice(deviceId), style: \"destructive\" },\n      ],\n    );\n  };\n\n  const handleAssign = (device) => {\n    setCurrentDevice(device);\n    setModalOpen(true); // Abre el modal para asignar o desasignar usuarios\n  };\n\n\n  return (\n    <>\n    <View style={styles.container}>\n      <FlatList\n        data={devices}\n        keyExtractor={(item) => item._id.toString()}\n        renderItem={({ item }) => (\n          <View style={styles.deviceListItem}>\n            <Text>{item.room}</Text>\n            <TouchableOpacity onPress={() => handleEdit(item)}>\n              <MaterialIcons name=\"edit\" size={18} />\n            </TouchableOpacity>\n            <TouchableOpacity onPress={() => handleDelete(item._id)}>\n              <MaterialIcons name=\"delete\" size={18} />\n            </TouchableOpacity>\n            <TouchableOpacity onPress={() => handleAssign(item)}>\n              <MaterialIcons name=\"add\" size={18} />\n            </TouchableOpacity>\n          </View>\n        )}\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={styles.userListContainer}\n      />\n      {isModalOpen && (\n          <DeviceActionModal\n            isVisible={isModalOpen}\n            onClose={() => setModalOpen(false)}\n            device={currentDevice}\n            users={users}\n          />\n        )}\n    </View>\n    </>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    paddingHorizontal: 10,\n    paddingTop: 20,\n  },\n  deviceListItem: {\n    backgroundColor: '#ffffff',\n    padding: 15,\n    borderRadius: 8,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-between',\n    marginVertical: 5,\n    shadowColor: '#000',\n    shadowOffset: { width: 0, height: 1 },\n    shadowOpacity: 0.22,\n    shadowRadius: 2.22,\n    elevation: 3,\n  },\n  deviceText: {\n    fontSize: 16,\n    color: '#333',\n    flex: 1, // Asegura que el texto se ajuste dentro del contenedor\n    marginLeft: 10, // Añade un pequeño margen a la izquierda del texto,\n    fontWeight: '500',\n  },\n  iconButton: {\n    padding: 8,\n    borderRadius: 50,\n    backgroundColor: '#f0f0f0', // Un ligero fondo para destacar el área táctil\n    marginLeft: 10, // Espaciado entre iconos\n  },\n  icon: {\n    marginLeft: 10,\n  },\n  userListContainer: {\n    flexGrow: 1,\n    justifyContent: 'center',\n  },\n});\n\n\n\nexport default DeviceList;\n"],"mappings":";AAEA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAAC,OAAAC,QAAA;AAAA,OAAAC,gBAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,UAAA;AAAA,OAAAC,KAAA;AAEnD,SAASC,aAAa,QAAQ,oBAAoB;AAClD,OAAOC,iBAAiB;AACxB,OAAOC,mBAAmB;AAAqC,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAE/D,IAAMC,UAAU,GAAG,SAAbA,UAAUA,CAAA,EAAS;EACvB,IAAAC,oBAAA,GAKIR,mBAAmB,CAAC,CAAC;IAJvBS,OAAO,GAAAD,oBAAA,CAAPC,OAAO;IACPC,KAAK,GAAAF,oBAAA,CAALE,KAAK;IACLC,YAAY,GAAAH,oBAAA,CAAZG,YAAY;IACZC,QAAQ,GAAAJ,oBAAA,CAARI,QAAQ;EAGV,IAAAC,SAAA,GAAoCvB,QAAQ,CAAC,KAAK,CAAC;IAAAwB,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA5CG,WAAW,GAAAF,UAAA;IAAEG,YAAY,GAAAH,UAAA;EAChC,IAAAI,UAAA,GAA0C5B,QAAQ,CAAC,IAAI,CAAC;IAAA6B,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAjDE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EAEtC5B,SAAS,CAAC,YAAM;IACdqB,QAAQ,CAAC,CAAC;EACZ,CAAC,EAAE,EAAE,CAAC;EAEN,IAAMU,UAAU,GAAG,SAAbA,UAAUA,CAAIC,MAAM,EAAK;IAC7BF,gBAAgB,CAACE,MAAM,CAAC;IACxBN,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAED,IAAMO,YAAY,GAAG,SAAfA,YAAYA,CAAIC,QAAQ,EAAK;IACjC5B,KAAK,CAAC6B,KAAK,CACT,sBAAsB,EACtB,yDAAyD,EACzD,CACE;MAAEC,IAAI,EAAE,UAAU;MAAEC,KAAK,EAAE;IAAS,CAAC,EACrC;MAAED,IAAI,EAAE,UAAU;MAAEE,OAAO,EAAE,SAAAA,QAAA;QAAA,OAAMlB,YAAY,CAACc,QAAQ,CAAC;MAAA;MAAEG,KAAK,EAAE;IAAc,CAAC,CAErF,CAAC;EACH,CAAC;EAED,IAAME,YAAY,GAAG,SAAfA,YAAYA,CAAIP,MAAM,EAAK;IAC/BF,gBAAgB,CAACE,MAAM,CAAC;IACxBN,YAAY,CAAC,IAAI,CAAC;EACpB,CAAC;EAGD,OACEf,IAAA,CAAAI,SAAA;IAAAyB,QAAA,EACA3B,KAAA,CAACT,IAAI;MAACiC,KAAK,EAAEI,MAAM,CAACC,SAAU;MAAAF,QAAA,GAC5B7B,IAAA,CAACV,QAAQ;QACP0C,IAAI,EAAEzB,OAAQ;QACd0B,YAAY,EAAE,SAAAA,aAACC,IAAI;UAAA,OAAKA,IAAI,CAACC,GAAG,CAACC,QAAQ,CAAC,CAAC;QAAA,CAAC;QAC5CC,UAAU,EAAE,SAAAA,WAAAC,IAAA;UAAA,IAAGJ,IAAI,GAAAI,IAAA,CAAJJ,IAAI;UAAA,OACjBhC,KAAA,CAACT,IAAI;YAACiC,KAAK,EAAEI,MAAM,CAACS,cAAe;YAAAV,QAAA,GACjC7B,IAAA,CAACR,IAAI;cAAAqC,QAAA,EAAEK,IAAI,CAACM;YAAI,CAAO,CAAC,EACxBxC,IAAA,CAACT,gBAAgB;cAACoC,OAAO,EAAE,SAAAA,QAAA;gBAAA,OAAMP,UAAU,CAACc,IAAI,CAAC;cAAA,CAAC;cAAAL,QAAA,EAChD7B,IAAA,CAACJ,aAAa;gBAAC6C,IAAI,EAAC,MAAM;gBAACC,IAAI,EAAE;cAAG,CAAE;YAAC,CACvB,CAAC,EACnB1C,IAAA,CAACT,gBAAgB;cAACoC,OAAO,EAAE,SAAAA,QAAA;gBAAA,OAAML,YAAY,CAACY,IAAI,CAACC,GAAG,CAAC;cAAA,CAAC;cAAAN,QAAA,EACtD7B,IAAA,CAACJ,aAAa;gBAAC6C,IAAI,EAAC,QAAQ;gBAACC,IAAI,EAAE;cAAG,CAAE;YAAC,CACzB,CAAC,EACnB1C,IAAA,CAACT,gBAAgB;cAACoC,OAAO,EAAE,SAAAA,QAAA;gBAAA,OAAMC,YAAY,CAACM,IAAI,CAAC;cAAA,CAAC;cAAAL,QAAA,EAClD7B,IAAA,CAACJ,aAAa;gBAAC6C,IAAI,EAAC,KAAK;gBAACC,IAAI,EAAE;cAAG,CAAE;YAAC,CACtB,CAAC;UAAA,CACf,CAAC;QAAA,CACP;QACFC,UAAU;QACVC,8BAA8B,EAAE,KAAM;QACtCC,qBAAqB,EAAEf,MAAM,CAACgB;MAAkB,CACjD,CAAC,EACDhC,WAAW,IACRd,IAAA,CAACH,iBAAiB;QAChBkD,SAAS,EAAEjC,WAAY;QACvBkC,OAAO,EAAE,SAAAA,QAAA;UAAA,OAAMjC,YAAY,CAAC,KAAK,CAAC;QAAA,CAAC;QACnCM,MAAM,EAAEH,aAAc;QACtBV,KAAK,EAAEA;MAAM,CACd,CACF;IAAA,CACC;EAAC,CACL,CAAC;AAEP,CAAC;AAED,IAAMsB,MAAM,GAAGpC,UAAU,CAACuD,MAAM,CAAC;EAC/BlB,SAAS,EAAE;IACTmB,IAAI,EAAE,CAAC;IACPC,iBAAiB,EAAE,EAAE;IACrBC,UAAU,EAAE;EACd,CAAC;EACDb,cAAc,EAAE;IACdc,eAAe,EAAE,SAAS;IAC1BC,OAAO,EAAE,EAAE;IACXC,YAAY,EAAE,CAAC;IACfC,aAAa,EAAE,KAAK;IACpBC,UAAU,EAAE,QAAQ;IACpBC,cAAc,EAAE,eAAe;IAC/BC,cAAc,EAAE,CAAC;IACjBC,WAAW,EAAE,MAAM;IACnBC,YAAY,EAAE;MAAEC,KAAK,EAAE,CAAC;MAAEC,MAAM,EAAE;IAAE,CAAC;IACrCC,aAAa,EAAE,IAAI;IACnBC,YAAY,EAAE,IAAI;IAClBC,SAAS,EAAE;EACb,CAAC;EACDC,UAAU,EAAE;IACVC,QAAQ,EAAE,EAAE;IACZC,KAAK,EAAE,MAAM;IACbnB,IAAI,EAAE,CAAC;IACPoB,UAAU,EAAE,EAAE;IACdC,UAAU,EAAE;EACd,CAAC;EACDC,UAAU,EAAE;IACVlB,OAAO,EAAE,CAAC;IACVC,YAAY,EAAE,EAAE;IAChBF,eAAe,EAAE,SAAS;IAC1BiB,UAAU,EAAE;EACd,CAAC;EACDG,IAAI,EAAE;IACJH,UAAU,EAAE;EACd,CAAC;EACDxB,iBAAiB,EAAE;IACjB4B,QAAQ,EAAE,CAAC;IACXhB,cAAc,EAAE;EAClB;AACF,CAAC,CAAC;AAIF,eAAerD,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}