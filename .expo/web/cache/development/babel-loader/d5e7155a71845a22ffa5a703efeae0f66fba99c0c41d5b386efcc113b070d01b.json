{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nvar getAuthToken = function () {\n  var _ref = _asyncToGenerator(function* () {\n    return yield AsyncStorage.getItem('userToken');\n  });\n  return function getAuthToken() {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var fetchMonitoringRequests = function () {\n  var _ref2 = _asyncToGenerator(function* () {\n    var userToken = yield getAuthToken();\n    var adminId = yield AsyncStorage.getItem('userId');\n    var response = yield axios.get(`http://${global.ipDireccion}:3000/api/admins/${adminId}/monitoring-requests`, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function fetchMonitoringRequests() {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var fetchDevices = function () {\n  var _ref3 = _asyncToGenerator(function* () {\n    try {\n      var userToken = yield getAuthToken();\n      var endpoint = `http://${global.ipDireccion}:3000/api/devices/byAdmin`;\n      var response = yield axios.get(endpoint, {\n        headers: {\n          'Authorization': `Bearer ${userToken}`\n        }\n      });\n      return response;\n    } catch (error) {\n      console.error('API fetchDevices error:', error.response || error.message);\n      throw error;\n    }\n  });\n  return function fetchDevices() {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var fetchUsers = function () {\n  var _ref4 = _asyncToGenerator(function* () {\n    var userToken = yield getAuthToken();\n    var userId = yield AsyncStorage.getItem('userId');\n    var response = yield axios.get(`http://${global.ipDireccion}:3000/api/admins/${userId}/users`, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function fetchUsers() {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var sendMonitoringRequest = function () {\n  var _ref5 = _asyncToGenerator(function* (userEmail) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.post(`http://${global.ipDireccion}:3000/api/admins/sendMonitoringRequest`, {\n      userEmail: userEmail\n    }, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function sendMonitoringRequest(_x) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var assignUserToDevice = function () {\n  var _ref6 = _asyncToGenerator(function* (deviceId, userIds) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.post(`http://${global.ipDireccion}:3000/api/admins/devices/${deviceId}/assignUsers`, {\n      userIds: userIds\n    }, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function assignUserToDevice(_x2, _x3) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var unassignUserFromDevice = function () {\n  var _ref7 = _asyncToGenerator(function* (deviceId, userIds) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.post(`http://${global.ipDireccion}:3000/api/admins/devices/${deviceId}/unassignUsers`, {\n      userIds: userIds\n    }, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function unassignUserFromDevice(_x4, _x5) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var assignDeviceToUser = function () {\n  var _ref8 = _asyncToGenerator(function* (userId) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.post(`http://${global.ipDireccion}:3000/api/admins/assignDevicesToUsers`, {\n      userIds: [userId]\n    }, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function assignDeviceToUser(_x6) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var unassignDeviceFromUser = function () {\n  var _ref9 = _asyncToGenerator(function* (userId) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.post(`http://${global.ipDireccion}:3000/api/admins/unassignDevicesFromUsers`, {\n      userIds: [userId]\n    }, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function unassignDeviceFromUser(_x7) {\n    return _ref9.apply(this, arguments);\n  };\n}();\nexport var removeUser = function () {\n  var _ref10 = _asyncToGenerator(function* (userEmail) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.delete(`http://${global.ipDireccion}:3000/api/admins/removeUser`, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function removeUser(_x8) {\n    return _ref10.apply(this, arguments);\n  };\n}();\nexport var deleteDevice = function () {\n  var _ref11 = _asyncToGenerator(function* (deviceId) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.delete(`http://${global.ipDireccion}:3000/api/devices/${deviceId}`, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function deleteDevice(_x9) {\n    return _ref11.apply(this, arguments);\n  };\n}();\nexport var addDevice = function () {\n  var _ref12 = _asyncToGenerator(function* (deviceDetails) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.post(`http://${global.ipDireccion}:3000/api/devices`, deviceDetails, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function addDevice(_x10) {\n    return _ref12.apply(this, arguments);\n  };\n}();\nexport var updateDevice = function () {\n  var _ref13 = _asyncToGenerator(function* (deviceId, deviceDetails) {\n    var userToken = yield getAuthToken();\n    var response = yield axios.put(`http://${global.ipDireccion}:3000/api/devices/${deviceId}`, deviceDetails, {\n      headers: {\n        'Authorization': `Bearer ${userToken}`\n      }\n    });\n    return response;\n  });\n  return function updateDevice(_x11, _x12) {\n    return _ref13.apply(this, arguments);\n  };\n}();","map":{"version":3,"names":["axios","AsyncStorage","getAuthToken","_ref","_asyncToGenerator","getItem","apply","arguments","fetchMonitoringRequests","_ref2","userToken","adminId","response","get","global","ipDireccion","headers","fetchDevices","_ref3","endpoint","error","console","message","fetchUsers","_ref4","userId","sendMonitoringRequest","_ref5","userEmail","post","_x","assignUserToDevice","_ref6","deviceId","userIds","_x2","_x3","unassignUserFromDevice","_ref7","_x4","_x5","assignDeviceToUser","_ref8","_x6","unassignDeviceFromUser","_ref9","_x7","removeUser","_ref10","delete","_x8","deleteDevice","_ref11","_x9","addDevice","_ref12","deviceDetails","_x10","updateDevice","_ref13","put","_x11","_x12"],"sources":["C:/Users/lofli/Downloads/integradora-misto/views/adminDashboard/api.js"],"sourcesContent":["import axios from 'axios';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\n\nconst getAuthToken = async () => {\n  return await AsyncStorage.getItem('userToken');\n};\n\nexport const fetchMonitoringRequests = async () => {\n  const userToken = await getAuthToken();\n  const adminId = await AsyncStorage.getItem('userId');\n  const response = await axios.get(`http://${global.ipDireccion}:3000/api/admins/${adminId}/monitoring-requests`, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const fetchDevices = async () => {\n  try {\n    const userToken = await getAuthToken();\n    const endpoint = `http://${global.ipDireccion}:3000/api/devices/byAdmin`;\n    const response = await axios.get(endpoint, {\n      headers: { 'Authorization': `Bearer ${userToken}` },\n    });\n    return response;\n  } catch (error) {\n    // Manejo del error...\n    console.error('API fetchDevices error:', error.response || error.message);\n    throw error; // Propagar el error para manejarlo en la interfaz de usuario.\n  }\n};\n\n\nexport const fetchUsers = async () => {\n  const userToken = await getAuthToken();\n  const userId = await AsyncStorage.getItem('userId');\n  const response = await axios.get(`http://${global.ipDireccion}:3000/api/admins/${userId}/users`, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const sendMonitoringRequest = async (userEmail) => {\n  const userToken = await getAuthToken();\n  const response = await axios.post(`http://${global.ipDireccion}:3000/api/admins/sendMonitoringRequest`, {\n    userEmail,\n  }, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const assignUserToDevice = async (deviceId, userIds) => {\n  const userToken = await getAuthToken();\n  const response = await axios.post(`http://${global.ipDireccion}:3000/api/admins/devices/${deviceId}/assignUsers`, { userIds }, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const unassignUserFromDevice = async (deviceId, userIds) => {\n  const userToken = await getAuthToken();\n  const response = await axios.post(`http://${global.ipDireccion}:3000/api/admins/devices/${deviceId}/unassignUsers`, { userIds }, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const assignDeviceToUser = async (userId) => {\n  const userToken = await getAuthToken();\n  const response = await axios.post(\n    `http://${global.ipDireccion}:3000/api/admins/assignDevicesToUsers`,\n    { userIds: [userId] },\n    { headers: { 'Authorization': `Bearer ${userToken}` } }\n  );\n  return response;\n};\n\nexport const unassignDeviceFromUser = async (userId) => {\n  const userToken = await getAuthToken();\n  const response = await axios.post(\n    `http://${global.ipDireccion}:3000/api/admins/unassignDevicesFromUsers`,\n    { userIds: [userId] },\n    { headers: { 'Authorization': `Bearer ${userToken}` } }\n  );\n  return response;\n};\n\nexport const removeUser = async (userEmail) => {\n  const userToken = await getAuthToken();\n  const response = await axios.delete(`http://${global.ipDireccion}:3000/api/admins/removeUser`, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const deleteDevice = async (deviceId) => {\n  const userToken = await getAuthToken();\n  const response = await axios.delete(`http://${global.ipDireccion}:3000/api/devices/${deviceId}`, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const addDevice = async (deviceDetails) => {\n  const userToken = await getAuthToken();\n  const response = await axios.post(`http://${global.ipDireccion}:3000/api/devices`, deviceDetails, {\n    headers: { 'Authorization': `Bearer ${userToken}` },\n  });\n  return response;\n};\n\nexport const updateDevice = async (deviceId, deviceDetails) => {\n  const userToken = await getAuthToken();\n  const response = await axios.put(`http://${global.ipDireccion}:3000/api/devices/${deviceId}`, deviceDetails, {\n    headers: { 'Authorization': `Bearer ${userToken}` }\n  });\n  return response;\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}