{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useState, useEffect } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { MaterialIcons } from '@expo/vector-icons';\nimport useDeviceManagement from \"../hooks/useDeviceManagement\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar UserList = function UserList() {\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    admins = _useState2[0],\n    setAdmins = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    error = _useState4[0],\n    setError = _useState4[1];\n  useEffect(function () {\n    setAdmins(adminsSample);\n    setError(null);\n  }, []);\n  var dissociateAdmin = function () {\n    var _ref = _asyncToGenerator(function* (adminId) {\n      console.log('Dissociating admin with ID:', adminId);\n      var isSuccess = true;\n      if (!isSuccess) {\n        setError('No se pudo eliminar al administrador. Intente nuevamente.');\n      }\n    });\n    return function dissociateAdmin(_x) {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var loadData = function () {\n    var _ref2 = _asyncToGenerator(function* () {\n      setAdmins(adminsSample);\n    });\n    return function loadData() {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  var adminsSample = [{\n    _id: '1',\n    firstName: 'Ana',\n    lastName: 'Martínez',\n    email: 'ana.martinez@example.com'\n  }, {\n    _id: '2',\n    firstName: 'Juan',\n    lastName: 'García',\n    email: 'juan.garcia@example.com'\n  }, {\n    _id: '3',\n    firstName: 'Luisa',\n    lastName: 'Pérez',\n    email: 'luisa.perez@example.com'\n  }, {\n    _id: '4',\n    firstName: 'Carlos',\n    lastName: 'Dominguez',\n    email: 'carlos.dominguez@example.com'\n  }];\n  var styles = StyleSheet.create({\n    userListItem: {\n      backgroundColor: '#fff',\n      borderRadius: 10,\n      padding: 15,\n      marginVertical: 5,\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      shadowColor: '#000',\n      shadowOffset: {\n        width: 0,\n        height: 1\n      },\n      shadowOpacity: 0.22,\n      shadowRadius: 2.22,\n      elevation: 3\n    },\n    userListTextName: {\n      fontSize: 16,\n      fontWeight: 'bold'\n    },\n    userListTextEmail: {\n      fontSize: 14,\n      color: '#666',\n      marginTop: 2\n    },\n    userListContainer: {\n      flexGrow: 1,\n      justifyContent: 'center'\n    },\n    errorText: {\n      color: 'red',\n      textAlign: 'center',\n      marginTop: 10\n    }\n  });\n  var confirmRemoveAdmin = function confirmRemoveAdmin(adminEmail, adminId) {\n    Alert.alert(\"Eliminar Usuario\", `¿Estás seguro de que quieres eliminar a ${adminEmail}?`, [{\n      text: \"Cancelar\",\n      style: \"cancel\"\n    }, {\n      text: \"Eliminar\",\n      onPress: function () {\n        var _onPress = _asyncToGenerator(function* () {\n          yield dissociateAdmin(adminId);\n          if (error) {\n            Alert.alert(\"Error\", error);\n          } else {\n            yield loadData();\n          }\n        });\n        function onPress() {\n          return _onPress.apply(this, arguments);\n        }\n        return onPress;\n      }(),\n      style: \"destructive\"\n    }], {\n      cancelable: true\n    });\n  };\n  return _jsxs(_Fragment, {\n    children: [error && _jsx(Text, {\n      style: styles.errorText,\n      children: error\n    }), _jsx(FlatList, {\n      data: admins,\n      keyExtractor: function keyExtractor(admins) {\n        return admins._id.toString();\n      },\n      renderItem: function renderItem(_ref3) {\n        var item = _ref3.item;\n        return _jsxs(View, {\n          style: styles.userListItem,\n          children: [_jsx(Text, {\n            style: styles.userListTextName,\n            children: `${item.firstName} ${item.lastName}`\n          }), _jsx(Text, {\n            style: styles.userListTextEmail,\n            children: item.email\n          }), _jsx(TouchableOpacity, {\n            onPress: function onPress() {\n              return confirmRemoveAdmin(item.email, item._id);\n            },\n            children: _jsx(MaterialIcons, {\n              name: \"delete\",\n              size: 18,\n              color: \"black\"\n            })\n          })]\n        });\n      },\n      horizontal: true,\n      showsHorizontalScrollIndicator: false,\n      contentContainerStyle: styles.userListContainer\n    })]\n  });\n};\nexport default UserList;","map":{"version":3,"names":["React","useState","useEffect","View","Text","TouchableOpacity","FlatList","Alert","StyleSheet","MaterialIcons","useDeviceManagement","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserList","_useState","_useState2","_slicedToArray","admins","setAdmins","_useState3","_useState4","error","setError","adminsSample","dissociateAdmin","_ref","_asyncToGenerator","adminId","console","log","isSuccess","_x","apply","arguments","loadData","_ref2","_id","firstName","lastName","email","styles","create","userListItem","backgroundColor","borderRadius","padding","marginVertical","flexDirection","alignItems","justifyContent","shadowColor","shadowOffset","width","height","shadowOpacity","shadowRadius","elevation","userListTextName","fontSize","fontWeight","userListTextEmail","color","marginTop","userListContainer","flexGrow","errorText","textAlign","confirmRemoveAdmin","adminEmail","alert","text","style","onPress","_onPress","cancelable","children","data","keyExtractor","toString","renderItem","_ref3","item","name","size","horizontal","showsHorizontalScrollIndicator","contentContainerStyle"],"sources":["C:/Users/lofli/Downloads/integradora-misto/views/userDashboard/components/AdminList.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { View, Text, TouchableOpacity, FlatList, Alert, StyleSheet } from 'react-native';\nimport { MaterialIcons } from '@expo/vector-icons';\nimport useDeviceManagement from '../hooks/useDeviceManagement'; // Importamos nuestro hook\n\nconst UserList = () => {\n  /* const {\n    admins,\n    dissociateAdmin,\n    isLoading,\n    error, // Importamos también el estado de error para mostrarlo\n    loadData,\n  } = useDeviceManagement(); */\n\n  const [admins, setAdmins] = useState([]);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    // Simulando la carga de datos\n    setAdmins(adminsSample);  // Aquí utilizas el arreglo de muestra\n    setError(null);\n  }, []);\n\n  const dissociateAdmin = async (adminId) => {\n    // Aquí deberías implementar la lógica para desasociar un administrador\n    console.log('Dissociating admin with ID:', adminId);\n    // Simulando éxito o error en la operación\n    const isSuccess = true; // Cambiar a false para simular un error\n    if (!isSuccess) {\n      setError('No se pudo eliminar al administrador. Intente nuevamente.');\n    }\n  };\n\n  const loadData = async () => {\n    // Simular recarga de datos\n    setAdmins(adminsSample);\n  };\n\n\n  const adminsSample = [\n    {\n      _id: '1',\n      firstName: 'Ana',\n      lastName: 'Martínez',\n      email: 'ana.martinez@example.com',\n    },\n    {\n      _id: '2',\n      firstName: 'Juan',\n      lastName: 'García',\n      email: 'juan.garcia@example.com',\n    },\n    {\n      _id: '3',\n      firstName: 'Luisa',\n      lastName: 'Pérez',\n      email: 'luisa.perez@example.com',\n    },\n    {\n      _id: '4',\n      firstName: 'Carlos',\n      lastName: 'Dominguez',\n      email: 'carlos.dominguez@example.com',\n    },\n  ];\n  \n\n  const styles = StyleSheet.create({\n    userListItem: {\n      backgroundColor: '#fff',\n      borderRadius: 10,\n      padding: 15,\n      marginVertical: 5,\n      flexDirection: 'row',\n      alignItems: 'center',\n      justifyContent: 'space-between',\n      shadowColor: '#000',\n      shadowOffset: { width: 0, height: 1 },\n      shadowOpacity: 0.22,\n      shadowRadius: 2.22,\n      elevation: 3,\n    },\n    userListTextName: {\n      fontSize: 16,\n      fontWeight: 'bold',\n    },\n    userListTextEmail: {\n      fontSize: 14,\n      color: '#666',\n      marginTop: 2,\n    },\n    userListContainer: {\n      flexGrow: 1,\n      justifyContent: 'center',\n    },\n    errorText: {\n      color: 'red',\n      textAlign: 'center',\n      marginTop: 10,\n    },\n  });\n\n  const confirmRemoveAdmin = (adminEmail, adminId) => {\n    Alert.alert(\n      \"Eliminar Usuario\",\n      `¿Estás seguro de que quieres eliminar a ${adminEmail}?`,\n      [\n        {\n          text: \"Cancelar\",\n          style: \"cancel\"\n        },\n        {\n          text: \"Eliminar\",\n          onPress: async () => {\n            await dissociateAdmin(adminId);\n            if (error) {\n              Alert.alert(\"Error\", error);\n            } else {\n              await loadData();\n            }\n          },\n          style: \"destructive\"\n        }\n      ],\n      { cancelable: true }\n    );\n  };\n\n  return (\n    <>\n      {error && <Text style={styles.errorText}>{error}</Text>}\n      <FlatList\n        data={admins}\n        keyExtractor={(admins) => admins._id.toString()}\n        renderItem={({ item }) => (\n          <View style={styles.userListItem}>\n            <Text style={styles.userListTextName}>{`${item.firstName} ${item.lastName}`}</Text>\n            <Text style={styles.userListTextEmail}>{item.email}</Text>\n            \n            <TouchableOpacity onPress={() => confirmRemoveAdmin(item.email, item._id)}>\n              <MaterialIcons name=\"delete\" size={18} color=\"black\" />\n            </TouchableOpacity>\n          </View>\n        )}\n        horizontal\n        showsHorizontalScrollIndicator={false}\n        contentContainerStyle={styles.userListContainer}\n      />\n    </>\n  );\n};\n\nexport default UserList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}